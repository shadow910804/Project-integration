# NewebPay è—æ–°é‡‘æµä¸²æ¥èªªæ˜ï¼ˆæ¸¬è©¦ç’°å¢ƒï¼‰

æœ¬å°ˆæ¡ˆå·²æ•´åˆ NewebPay æ¸¬è©¦é‡‘æµï¼Œå¯ä½¿ç”¨ä»¥ä¸‹åƒæ•¸é€²è¡Œä»˜æ¬¾æµç¨‹æ¨¡æ“¬ã€‚

---

## âœ… æ¸¬è©¦å¸³è™Ÿè³‡è¨Š

| é …ç›®         | æ¸¬è©¦å€¼                                  |
|--------------|-----------------------------------------|
| MerchantID   | MS3448209                               |
| HashKey      | 8NnPzWnFzvK0M4iiq1r8H9Vb8RvgL7yW         |
| HashIV       | lzB3qWZy8dkA4Dgz                         |
| RespondURL   | /Payment/Notify                         |
| ReturnURL    | /Order/Confirm?id={è¨‚å–®ç·¨è™Ÿ}            |

---

## âœ… ä¸²æ¥æµç¨‹èªªæ˜

1. ä½¿ç”¨è€…çµå¸³å®Œæˆå¾Œï¼Œå°å‘ `/Order/Pay/{id}` ç™¼é€ä»˜æ¬¾è«‹æ±‚è‡³ NewebPayã€‚
2. ç³»çµ±é€é `NewebPayHelper.cs` å°ä»˜æ¬¾åƒæ•¸åŠ å¯†ä¸¦ç”¢ç”Ÿ CheckValueã€‚
3. è—æ–°ä»˜æ¬¾é å®Œæˆå¾Œæœƒï¼š
   - å‰æ™¯è·³è½‰ `/Order/Confirm?id={id}`
   - èƒŒæ™¯ç™¼é€ä»˜æ¬¾çµæœè‡³ `/Payment/Notify`
4. ç³»çµ±æ”¶åˆ°é€šçŸ¥å¾Œé©—è­‰äº¤æ˜“çµæœï¼Œä¸¦æ›´æ–° `Order` è¡¨ä¸­çš„ä»˜æ¬¾ç‹€æ…‹ `PaymentVerified = true`

---

## ğŸ“ å¯¦ä½œæª”æ¡ˆåˆ—è¡¨

| æª”æ¡ˆè·¯å¾‘                              | åŠŸèƒ½                     |
|---------------------------------------|--------------------------|
| Controllers/OrderController.cs        | å»ºç«‹è¨‚å–® / ç™¼é€ä»˜æ¬¾è¡¨å–® |
| Controllers/PaymentController.cs      | è™•ç†ä»˜æ¬¾å›å‚³é€šçŸ¥         |
| Helpers/NewebPayHelper.cs             | åŠ å¯†ã€ç°½ç« è™•ç†å·¥å…·é¡åˆ¥   |
| Views/Order/Pay.cshtml                | è‡ªå‹•æäº¤è¡¨å–®è‡³ NewebPay |

---

## âš ï¸ æ­£å¼ä¸Šç·šè«‹æ›¿æ›

è«‹å°‡ `MerchantID`ã€`HashKey`ã€`HashIV` åŠä»˜æ¬¾ç¶²å€åˆ‡æ›ç‚ºè—æ–°æä¾›çš„æ­£å¼å¸³è™Ÿè³‡è¨Šã€‚